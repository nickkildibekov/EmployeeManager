<div class="employees-container">
  <h3>Department: {{ department()?.name || '...' }}</h3>
  <p class="text-muted">{{ department()?.description }}</p>

  <div class="controls">
    <input type="text" placeholder="Search employees" (input)="onSearch($any($event.target).value)" />
    <div class="pagination">
      <button (click)="changePage(page() - 1)" [disabled]="page() <= 1">Prev</button>
      <span>Page {{ page() }} / {{ Math.ceil(total() / pageSize()) || 1 }}</span>
      <button (click)="changePage(page() + 1)" [disabled]="page() * pageSize() >= total()">Next</button>
    </div>
  </div>

  @if (isLoading()) {
  <p>Loading...</p>
  } @else if (error()) {
  <p class="text-danger">{{ error() }}</p>
  } @else {

  <app-employee-list
    [department]="department"
    [positions]="positions"
    [isEditMode]="true"
    (onEmployeeAdded)="handleAdd($event)"
    (onEmployeeDeleted)="handleDelete($event)"
  ></app-employee-list>

  }
</div>
