<div class="section">
  <div class="section-header">
    <h2>üíº –ü–æ—Å–∞–¥–∏ ({{ getDisplayPositions()?.length || 0 }})</h2>
  </div>

  @if (isEditMode()) {
  <div class="add-button-container">
    <button class="btn-add" (click)="toggleAddMode()">
      {{ showAddForm() ? '‚úï –°–∫–∞—Å—É–≤–∞—Ç–∏' : '‚ûï –î–æ–¥–∞—Ç–∏ –ø–æ—Å–∞–¥—É' }}
    </button>
  </div>
  } @if(isEditMode() && showAddForm()){
  <div class="add-form">
    <input
      type="text"
      [(ngModel)]="newPositionTitle"
      placeholder="–í–≤–µ–¥—ñ—Ç—å –Ω–∞–∑–≤—É –ø–æ—Å–∞–¥–∏"
      class="form-input"
      (keyup.enter)="addPosition()"
    />
    <button class="btn-save" (click)="addPosition()" [disabled]="!newPositionTitle().trim()">
      –î–æ–¥–∞—Ç–∏
    </button>
  </div>
  } @if (getDisplayPositions() && getDisplayPositions().length > 0) {
  <table class="table">
    <tbody>
      @for(position of getDisplayPositions(); track position.id) {
      <tr>
        <td>{{ getPositionDisplayName(position.title) }}</td>
        @if(isEditMode() && !isUnemployedPosition(position.title)){
        <td>
          <button
            class="btn-delete"
            (click)="deletePosition(position.id)"
            [disabled]="!isEditMode()"
            title="–í–∏–¥–∞–ª–∏—Ç–∏ –ø–æ—Å–∞–¥—É"
          >
            –í–∏–¥–∞–ª–∏—Ç–∏
          </button>
        </td>
        }
      </tr>
      }
    </tbody>
  </table>
  } @else {
  <div class="empty-state">
    <p>–ü–æ—Å–∞–¥ —â–µ –Ω–µ–º–∞—î</p>
  </div>
  }
</div>
